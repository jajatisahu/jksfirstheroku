<html>
<head>
<script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous"></script>
<script>
alert("Done");
var salesforceURL ='https://test.salesforce.com/services/oauth2/token?grant_type=password&client_id=3MVG92DxHaawSd0mwwIyJF1tCurTerXFLmumDpPPUo_UYc67UhEhif5NkYW.gOWPPa8UYV8vttbxgVoa1efVc&client_secret=D9AD302041B29A31AFB4C7493810D351C6CD769D2CFC1E31833AE66E98576CE7&username=dev@persistence.com.ucadevtemp&password=Optum!123';

function syncAndPostEvent(e){
    alert("Data is synced");
    const headers1 = new Headers({
        'Content-Type': 'application/json' , 
        'Access-Control-Allow-Methods': 'GET, PUT, POST, DELETE, OPTIONS',
        'X-Content-Type-Options':'nosniff', 
        'Access-Control-Allow-Credentials':true,
        'Access-Control-Allow-Origin':'*',
        'Set-Cookie': 'HttpOnly;Secure;SameSite=Strict'
        });

        $.ajax({
            type: 'POST',
            url: salesforceURL,
            headers: {
                'Content-Type': 'application/json' , 
                'Access-Control-Allow-Methods': 'GET, PUT, POST, DELETE, OPTIONS',
                'X-Content-Type-Options':'nosniff', 
                'Access-Control-Allow-Credentials':true,
                'Access-Control-Allow-Origin':'*',
                'Access-Control-Allow-Headers': 'Content-Type'
            },
            crossDomain: true,
            dataType: 'json',
            success: function(responseData, textStatus, jqXHR) {
                alert('POST Success.');
                //var value = responseData.someKey;
            },
            error: function (responseData, textStatus, errorThrown) {
                alert('POST failed.');
            }
        });
        
    /*return fetch(salesforceURL,{
            method: 'POST',
            headers: headers,                     
            mode: 'no-cors',
            credentials: "include"                 
        }).then(response => {
            alert("got response");
            if (!response.ok) {
                console.log(':(' + response);
            //throw Error(response);
            }
            //alert(response.json());

            //return response.json();
        }).catch( error =>  console.log(error));*/

     /*
    https://login.salesforce.com/services/oauth2/authorize?response_type=token&
    client_id=3MVG9lKcPoNINVBIPJjdw1J9LLJbP_pqwoJYyuisjQhr_LLurNDv7AgQvDTZwCoZuDZrXcPCmBv4o.8ds.5iE&
    redirect_uri=https://www.customercontactinfo.com/user_callback.jspk&
    state=mystate  */
    }
</script>
</head>
<body onload="syncAndPostEvent();">
<b>Hello Jajati</b>
</body>
</HTML>
